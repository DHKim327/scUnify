name: scgpt_env
channels:
  - pytorch
  - nvidia         # CUDA + NCCL 지원!
  - conda-forge
dependencies:
  - python=3.11
  # PyTorch + CUDA + NCCL: conda에서 설치 (고정!)
  - pytorch=2.3.0
  - torchtext=0.18.0       # 고정! (pip 설치 불가)
  - pytorch-cuda=12.1      # CUDA + NCCL 포함!
  # 나머지는 유연하게
  - numpy>=1.26,<2.0
  - pandas>=1.3
  - scanpy>=1.9
  - numba>=0.55
  - scikit-misc>=0.1
  - umap-learn>=0.5
  - leidenalg>=0.8
  - pip
  - pip:
      # scvi-tools 제거! (jax → numpy 2.0 충돌)
      - datasets>=2.3
      - accelerate>=1
      - typing-extensions>=4.2
